<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android7.0 whistle 抓包HTTPS证书无效解决方法 | 風之家</title>
    <meta name="description" content="我不去想身后会不会袭来寒风冷雨，既然目标是地平线，留给世界的只能是背影">
    <link rel="icon" href="/images/icons/logo_256x256.png">
  <link rel="shortcut icon" type="image/x-icon" href="/icons/favicon.ico">
  <script>
            var _hmt = _hmt || [];
            (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?ab4ebebbea4df8ea62cf5195aff6b3a2";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        </script>
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#4BB547">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/images/icons/logo_256x256.png">
  <link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#4BB547">
  <meta name="msapplication-TileImage" content="/images/icons/logo_256x256.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.796ddd3f.css" as="style"><link rel="preload" href="/assets/js/app.0391f41b.js" as="script"><link rel="preload" href="/assets/js/2.28c278e4.js" as="script"><link rel="preload" href="/assets/js/33.b997c19e.js" as="script"><link rel="prefetch" href="/assets/js/10.4819b5ff.js"><link rel="prefetch" href="/assets/js/11.39217bfc.js"><link rel="prefetch" href="/assets/js/12.97504de6.js"><link rel="prefetch" href="/assets/js/13.fd13f28a.js"><link rel="prefetch" href="/assets/js/14.9daa3cf0.js"><link rel="prefetch" href="/assets/js/15.4fe246c2.js"><link rel="prefetch" href="/assets/js/16.920dd17c.js"><link rel="prefetch" href="/assets/js/17.ebfeb9a9.js"><link rel="prefetch" href="/assets/js/18.6eafcb30.js"><link rel="prefetch" href="/assets/js/19.a3123ea3.js"><link rel="prefetch" href="/assets/js/20.a423da0e.js"><link rel="prefetch" href="/assets/js/21.bbbffbd4.js"><link rel="prefetch" href="/assets/js/22.dc30b0c6.js"><link rel="prefetch" href="/assets/js/23.cd5afcca.js"><link rel="prefetch" href="/assets/js/24.32fdac3c.js"><link rel="prefetch" href="/assets/js/25.8e8ef451.js"><link rel="prefetch" href="/assets/js/26.46dde4f5.js"><link rel="prefetch" href="/assets/js/27.6fbdbc9b.js"><link rel="prefetch" href="/assets/js/28.bff41158.js"><link rel="prefetch" href="/assets/js/29.07608e3b.js"><link rel="prefetch" href="/assets/js/3.f21234f0.js"><link rel="prefetch" href="/assets/js/30.8d627d98.js"><link rel="prefetch" href="/assets/js/31.f2ec150b.js"><link rel="prefetch" href="/assets/js/32.69aedb82.js"><link rel="prefetch" href="/assets/js/34.d0636a74.js"><link rel="prefetch" href="/assets/js/35.dea0f4e8.js"><link rel="prefetch" href="/assets/js/36.6892a6dd.js"><link rel="prefetch" href="/assets/js/37.cf8b39f3.js"><link rel="prefetch" href="/assets/js/38.ed438beb.js"><link rel="prefetch" href="/assets/js/39.51b95177.js"><link rel="prefetch" href="/assets/js/4.9babd7e9.js"><link rel="prefetch" href="/assets/js/40.f9828eb0.js"><link rel="prefetch" href="/assets/js/41.a838e01e.js"><link rel="prefetch" href="/assets/js/42.22d1a797.js"><link rel="prefetch" href="/assets/js/43.381878b1.js"><link rel="prefetch" href="/assets/js/44.c5f8e025.js"><link rel="prefetch" href="/assets/js/45.cf047396.js"><link rel="prefetch" href="/assets/js/46.00e546da.js"><link rel="prefetch" href="/assets/js/47.e516acd3.js"><link rel="prefetch" href="/assets/js/48.d66a1ba5.js"><link rel="prefetch" href="/assets/js/49.85367861.js"><link rel="prefetch" href="/assets/js/5.5fbf6bbb.js"><link rel="prefetch" href="/assets/js/50.90bbe20a.js"><link rel="prefetch" href="/assets/js/51.e739f67f.js"><link rel="prefetch" href="/assets/js/52.df29f11c.js"><link rel="prefetch" href="/assets/js/53.8616021f.js"><link rel="prefetch" href="/assets/js/54.ce3fc36c.js"><link rel="prefetch" href="/assets/js/55.69dee5be.js"><link rel="prefetch" href="/assets/js/56.fe733e39.js"><link rel="prefetch" href="/assets/js/57.3827dc6e.js"><link rel="prefetch" href="/assets/js/58.54eb9774.js"><link rel="prefetch" href="/assets/js/59.4736271d.js"><link rel="prefetch" href="/assets/js/6.1472e142.js"><link rel="prefetch" href="/assets/js/7.53693f95.js"><link rel="prefetch" href="/assets/js/8.539dda2a.js"><link rel="prefetch" href="/assets/js/9.4bf2d31c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.796ddd3f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/icons/logo_256x256.png" alt="風之家" class="logo"> <span class="site-name can-hide">風之家</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">博客列表</a></div><div class="nav-item"><a href="/front/" class="nav-link router-link-active">大前端</a></div><div class="nav-item"><a href="/resume/" class="nav-link">关于我</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于風之家</a></div> <a href="https://github.com/ruanjq/windhome" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">博客列表</a></div><div class="nav-item"><a href="/front/" class="nav-link router-link-active">大前端</a></div><div class="nav-item"><a href="/resume/" class="nav-link">关于我</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于風之家</a></div> <a href="https://github.com/ruanjq/windhome" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/front" class="sidebar-heading clickable router-link-active open"><span> 大前端</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/front/angular" class="sidebar-heading clickable"><span> Angular </span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/front/HTMLCSS" class="sidebar-heading clickable"><span> HTML/CSS 简介</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/front/JavaScript" class="sidebar-heading clickable router-link-active open"><span> JavaScript简介</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/front/JavaScript/algorithm.html" class="sidebar-link"> 光速软件算法面试题</a></li><li><a href="/front/JavaScript/binrayTree.html" class="sidebar-link"> 搜索二叉树</a></li><li><a href="/front/JavaScript/browserCache.html" class="sidebar-link"> 浏览器缓存原理</a></li><li><a href="/front/JavaScript/event.html" class="sidebar-link"> 发布订阅模式</a></li><li><a href="/front/JavaScript/extends.html" class="sidebar-link"> ES5和ES6的继承和区别</a></li><li><a href="/front/JavaScript/guangziyuedong.html" class="sidebar-link"> 光子跃动前端面试题</a></li><li><a href="/front/JavaScript/gulp_config.html" class="sidebar-link"> gulp 打包构建配置</a></li><li><a href="/front/JavaScript/HTTP.html" class="sidebar-link"> HTTP 网络协议</a></li><li><a href="/front/JavaScript/interview.html" class="sidebar-link"> 前端常见的面试题(一)</a></li><li><a href="/front/JavaScript/interview2.html" class="sidebar-link"> 前端常见的面试题(二)</a></li><li><a href="/front/JavaScript/mingyuanyun.html" class="sidebar-link"> 明源云Web前端面试题</a></li><li><a href="/front/JavaScript/native&amp;&amp;H5.html" class="sidebar-link"> H5与Native的交互原理</a></li><li><a href="/front/JavaScript/number.html" class="sidebar-link"> Number 数字</a></li><li><a href="/front/JavaScript/plugins.html" class="sidebar-link"> JS插件集</a></li><li><a href="/front/JavaScript/promise.html" class="sidebar-link"> 手写Promise</a></li><li><a href="/front/JavaScript/" class="sidebar-link"> JavaScript简介</a></li><li><a href="/front/JavaScript/sort.html" class="sidebar-link"> 4种常见排序算法</a></li><li><a href="/front/JavaScript/subscribeArray.html" class="sidebar-link"> JS数据订阅队列</a></li><li><a href="/front/JavaScript/traversal.html" class="sidebar-link"> 深度优先/广度优先遍历</a></li><li><a href="/front/JavaScript/wireshark.html" class="active sidebar-link"> Android7.0 whistle 抓包HTTPS证书无效解决方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front/JavaScript/wireshark.html#背景原因" class="sidebar-link">背景原因</a></li><li class="sidebar-sub-header"><a href="/front/JavaScript/wireshark.html#解决方式" class="sidebar-link">解决方式</a></li><li class="sidebar-sub-header"><a href="/front/JavaScript/wireshark.html#验证安装成功" class="sidebar-link">验证安装成功</a></li><li class="sidebar-sub-header"><a href="/front/JavaScript/wireshark.html#注意" class="sidebar-link">注意</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/front/React" class="sidebar-heading clickable"><span> React 面试题</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/front/Vue" class="sidebar-heading clickable"><span> Vue 面试题</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="android7-0-whistle-抓包https证书无效解决方法"><a href="#android7-0-whistle-抓包https证书无效解决方法" class="header-anchor">#</a> Android7.0 whistle 抓包HTTPS证书无效解决方法</h1> <h2 id="背景原因"><a href="#背景原因" class="header-anchor">#</a> 背景原因</h2> <p>最近做小程序h5开发，调试过程中发现android 系统微信7.0以上版本无法抓取https 请求日志，查阅资料得出以下结论：</p> <ul><li>安卓系统 7.0 以上版本，微信 7.0 以下版本，微信会信任系统提供的证书</li> <li>安卓系统 7.0 以上版本，微信 7.0 以上版本，微信只信任它自己配置的证书列表</li></ul> <p>所以在<code>android</code>系统中<code>whistle</code>抓包工具中才无法获取<code>https</code>相关日志，<strong>苹果<code>IOS</code>系统则默认会信任用户安装的证书，没有这个问题</strong></p> <h2 id="解决方式"><a href="#解决方式" class="header-anchor">#</a> 解决方式</h2> <p><strong>注意：前提<code>android</code>手机需要获取<code>root</code>权限，具体<code>root</code>方法请查阅相关资料</strong>
这里以<code>小米8</code>手机为例：</p> <h3 id="获取root权限方法"><a href="#获取root权限方法" class="header-anchor">#</a> 获取root权限方法</h3> <ul><li><a href="http://www.miui.com/unlock/index.html" target="_blank" rel="noopener noreferrer">解锁小米手机<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.miui.com/download-345.html" target="_blank" rel="noopener noreferrer">下载miui开发版<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,并安装开发版系统</li> <li>获取<code>ROOT</code>权限 开发版系统安装完成后，依次执行 <strong>手机管家-&gt;权限-&gt;ROOT权限管理-&gt;开启root权限</strong></li></ul> <h3 id="证书文件重新命名"><a href="#证书文件重新命名" class="header-anchor">#</a> 证书文件重新命名</h3> <p>此过程是将证书文件<code>rootCA.crt</code>重新命名为<code>hash</code>值文件，文件名<code>hash.0</code>，以<code>.0</code>后缀结尾,<code>hash</code>通过以下命令方式计算得来</p> <ul><li><code>w2 start</code>启动<a href="http://wproxy.org/whistle/" target="_blank" rel="noopener noreferrer">whistle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>抓包工具并下载<code>rootCA.crt</code>证书文件</li> <li>计算<code>hash</code>值，打开<code>终端cmd</code>窗口，运行以下命令,</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>openssl x509 -subject_hash_old -in rootCA.crt
</code></pre></div><p>得到如下结果 <code>e2bbc20f</code>即为该文件的<code>hash</code>值</p> <div class="language-bash extra-class"><pre class="language-bash"><code>BelieverdeMacBook-Pro:Downloads ruanjq$ openssl x509 -subject_hash_old -in rootCA.crt
e2bbc20f
-----BEGIN CERTIFICATE-----
MIID9DCCAtygAwIBAgIBATANBgkqhkiG9w0BAQsFADCBhTEhMB8GA1UEAxMYd2hp
c3RsZS4xNTU0ODA0MTMzNDkxODkxMQswCQYDVQQGEwJDTjELMAkGA1UECBMCWkox
CzAJBgNVBAcTAkhaMSQwIgYDVQQKExsxNTU0ODA0MTMzNDkxODkxLndwcm94eS5v
cmcxEzARBgNVBAsTCndwcm94eS5vcmcwHhcNMTgwNDA5MTAwMjEzWhcNMjkwNDA5
MTAwMjEzWjCBhTEhMB8GA1UEAxMYd2hpc3RsZS4xNTU0ODA0MTMzNDkxODkxMQsw
CQYDVQQGEwJDTjELMAkGA1UECBMCWkoxCzAJBgNVBAcTAkhaMSQwIgYDVQQKExsx
NTU0ODA0MTMzNDkxODkxLndwcm94eS5vcmcxEzARBgNVBAsTCndwcm94eS5vcmcw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQD5vm4twleqKMCQbdD7BbRH
k4CwJL79Bpj8Nl7z9En3KTc6emfYqVd2VejXqRky0zVi90HGG9sEXQikQBb8Gmm9
qIGQ2wtUMTCHuLUOnfaNCqX0Tfd8Ln29yl0hHSln5b+PyUcFs+nGHmNcgdEQVIAe
lGQO77iChU3Sm8jLm7m8KDygPG+lctF5key2o+EOY4bKfrR3w+eB1lCIpkVUDmkF
i0YL0igWRCvqVQSjVsEFmNXtSptf2KEo4vJt1Nkxg3TTUl31p00LQg9utlpCcAps
7bYyBH6ZtOZHdxLKw9YHcOXkwFki6fbd3kZkkSBr2rHHo+RzsO+OzFJ76ob+Be7t
AgMBAAGjbTBrMAwGA1UdEwQFMAMBAf8wCwYDVR0PBAQDAgL0MDsGA1UdJQQ0MDIG
CCsGAQUFBwMBBggrBgEFBQcDAgYIKwYBBQUHAwMGCCsGAQUFBwMEBggrBgEFBQcD
CDARBglghkgBhvhCAQEEBAMCAPcwDQYJKoZIhvcNAQELBQADggEBAH+vvldg9cdC
a+cuCYRMHDdSB1UoLyChSmVZepnHMoKy1ut/9qzyBY/VPjHydZsPtxlvi/zT1dFq
bHnXeJGy2FI2K9mP9HYs7kH5SAOP5L6u/VFzJnH3VyEDhVkSqGI0BaSt2cDx7fJO
g72qanafk6ppAhwbh+4O0KxjxiNfs0McV7zNPOGa5iNr/l2JtpIFkNk6k982KT5I
tIw9hC1lv/w8iGJ3I4FOcJIsG9VrmkJ17yWteGKQrKvCs5flQ8w2kVlwQckODghj
Cd3a10/wXQpMGJj+EfQCAd4XK2E3zfEHOfDJMuadoV1VVt4NS6jwpfijlLnJm/Yn
<span class="token assign-left variable">ULeLrERu7Ow</span><span class="token operator">=</span>
-----END CERTIFICATE-----
BelieverdeMacBook-Pro:Downloads ruanjq$
</code></pre></div><ul><li>将<code>rootCA.crt</code>文件重新命令为<code>hash.0</code>,(比如我这里就改为 <code>e2bbc20f</code>,直接通过电脑重新命名文件即可，不需要通过命令方式)</li></ul> <h3 id="证书文件添加到系统证书目录"><a href="#证书文件添加到系统证书目录" class="header-anchor">#</a> 证书文件添加到系统证书目录</h3> <p>证书文件添加到系统证书目录有<code>2种</code>方式：</p> <ul><li>手机安装<code>RE文件管理器（Root Explorer）</code>，通过<code>RE文件管理器</code>将<code>hash.0</code>证书文件复制到系统证书目录<code>/system/etc/security/cacerts/</code>下面</li> <li>安装<code>adb</code>开发工具，通过命令的形式将文件<code>push</code>到目录<code>/system/etc/security/cacerts/</code>下面</li></ul> <h4 id="re文件管理器方式"><a href="#re文件管理器方式" class="header-anchor">#</a> <code>RE文件管理器</code>方式</h4> <ul><li>将<code>hash.0</code>证书文件发送到手机文件</li> <li>下载并安装<code>RE文件管理器</code>，并将该软件开启<code>root</code>权限</li> <li>进入RootExplorer管理器，将<code>hash.0</code>证书文件复制到<code>/system/etc/security/cacerts/</code>文件夹下，并把文件的权限设置成rw-r-r-</li> <li>重启手机，进入 设置——系统安全——加密与凭据--信任的凭证——系统标签 里查看证书是否开启状态</li></ul> <h4 id="adb工具方式"><a href="#adb工具方式" class="header-anchor">#</a> <code>adb</code>工具方式</h4> <ul><li>下载并安装<code>adb</code>工具，这里以<code>mac</code>电脑为例</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>brew <span class="token function">install</span> Caskroom/cask/android-platform-tools <span class="token comment"># 没有安装homebrew的先安装homebrew</span>
</code></pre></div><ul><li><code>adb</code>工具安装完成后,依次执行以下操作(以下命令运行没有报任何错误，则代表证书push成功)</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>adb devices <span class="token comment"># 测试adb是否安装成功，成功了会出现设备的hash值</span>
adb root
adb disable-verity <span class="token comment"># 禁用系统验证</span>
adb push e2bbc20f.0 /system/etc/security/cacerts <span class="token comment"># 安装证书到安卓系统证书目录</span>
adb root
</code></pre></div><ul><li>重启手机，进入 设置——系统安全——加密与凭据--信任的凭证——系统标签 里查看证书是否开启状态</li></ul> <h2 id="验证安装成功"><a href="#验证安装成功" class="header-anchor">#</a> 验证安装成功</h2> <p>重启手机，进入 设置——系统安全——加密与凭据--信任的凭证——系统标签 里查看证书，本人这里装了2个证书，自己电脑和公司电脑
<img src="/images/front/certificate.jpg" alt="Android7.0 whistle 抓包HTTPS证书无效解决方法" title="Android7.0 whistle 抓包HTTPS证书无效解决方法"></p> <h2 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h2> <ul><li>其他抓包工具<code>Charles</code>,<code>Fiddler</code>等方法类似，本质的方法是将用户证书添加到系统证书目录，系统证书会默认信任获取<code>HTTPS</code>请求日志。</li> <li>获取<code>root</code>权限过程中可能会导致手机异常情况，请谨慎操作。</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ruanjq/windhome/edit/master/docs/front/JavaScript/wireshark.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最近修改::</span> <span class="time">2020-7-18 17:18:02</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/front/JavaScript/traversal.html" class="prev"> 深度优先/广度优先遍历</a></span> <span class="next"><a href="/front/React/countDown.html"> React CountDown 组件</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0391f41b.js" defer></script><script src="/assets/js/2.28c278e4.js" defer></script><script src="/assets/js/33.b997c19e.js" defer></script>
  </body>
</html>
